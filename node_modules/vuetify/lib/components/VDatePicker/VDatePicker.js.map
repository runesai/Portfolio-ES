{"version":3,"file":"VDatePicker.js","names":["makeVDatePickerControlsProps","VDatePickerControls","VDatePickerHeader","makeVDatePickerMonthProps","VDatePickerMonth","makeVDatePickerMonthsProps","VDatePickerMonths","makeVDatePickerYearsProps","VDatePickerYears","VFadeTransition","VDefaultsProvider","makeVPickerProps","VPicker","useDate","useLocale","useRtl","useProxiedModel","computed","ref","shallowRef","toRef","watch","genericComponent","omit","propsFactory","useRender","wrapInArray","makeVDatePickerProps","header","type","String","default","headerColor","weeksInMonth","title","modelValue","VDatePicker","name","props","emits","date","setup","_ref","emit","slots","adapter","t","rtlClasses","model","undefined","v","map","i","multiple","viewMode","minDate","min","isValid","maxDate","max","internal","today","value","isBefore","isAfter","color","month","Number","getMonth","startOfMonth","year","getYear","startOfYear","setMonth","isReversing","length","format","text","setDate","setYear","headerTransition","disabled","targets","push","_date","addDays","endOfMonth","isAllowedInRange","start","end","allowedDates","days","getDiff","allowedYears","parseISO","endOfYear","Array","isArray","allowedMonths","onClickNext","onUpdateYear","onUpdateMonth","onClickPrev","onClickDate","onClickMonth","onClickYear","val","oldVal","arrBefore","arrAfter","before","after","newMonth","newYear","pickerProps","filterProps","datePickerControlsProps","datePickerHeaderProps","datePickerMonthProps","datePickerMonthsProps","datePickerYearsProps","headerProps","transition","_createVNode","_mergeProps","showWeek","class","style","_createElementVNode","_Fragment","$event","actions"],"sources":["../../../src/components/VDatePicker/VDatePicker.tsx"],"sourcesContent":["// Styles\nimport './VDatePicker.sass'\n\n// Components\nimport { makeVDatePickerControlsProps, VDatePickerControls } from './VDatePickerControls'\nimport { VDatePickerHeader } from './VDatePickerHeader'\nimport { makeVDatePickerMonthProps, VDatePickerMonth } from './VDatePickerMonth'\nimport { makeVDatePickerMonthsProps, VDatePickerMonths } from './VDatePickerMonths'\nimport { makeVDatePickerYearsProps, VDatePickerYears } from './VDatePickerYears'\nimport { VFadeTransition } from '@/components/transitions'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { makeVPickerProps, VPicker } from '@/labs/VPicker/VPicker'\n\n// Composables\nimport { useDate } from '@/composables/date'\nimport { useLocale, useRtl } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, ref, shallowRef, toRef, watch } from 'vue'\nimport { genericComponent, omit, propsFactory, useRender, wrapInArray } from '@/util'\n\n// Types\nimport type { VPickerSlots } from '@/labs/VPicker/VPicker'\nimport type { GenericProps } from '@/util'\n\n// Types\nexport type VDatePickerSlots = Omit<VPickerSlots, 'header'> & {\n  header: {\n    header: string\n    transition: string\n  }\n}\n\nexport const makeVDatePickerProps = propsFactory({\n  // TODO: implement in v3.5\n  // calendarIcon: {\n  //   type: String,\n  //   default: '$calendar',\n  // },\n  // keyboardIcon: {\n  //   type: String,\n  //   default: '$edit',\n  // },\n  // inputMode: {\n  //   type: String as PropType<'calendar' | 'keyboard'>,\n  //   default: 'calendar',\n  // },\n  // inputText: {\n  //   type: String,\n  //   default: '$vuetify.datePicker.input.placeholder',\n  // },\n  // inputPlaceholder: {\n  //   type: String,\n  //   default: 'dd/mm/yyyy',\n  // },\n  header: {\n    type: String,\n    default: '$vuetify.datePicker.header',\n  },\n  headerColor: String,\n\n  ...makeVDatePickerControlsProps(),\n  ...makeVDatePickerMonthProps({\n    weeksInMonth: 'static' as const,\n  }),\n  ...omit(makeVDatePickerMonthsProps(), ['modelValue']),\n  ...omit(makeVDatePickerYearsProps(), ['modelValue']),\n  ...makeVPickerProps({ title: '$vuetify.datePicker.title' }),\n\n  modelValue: null,\n}, 'VDatePicker')\n\nexport const VDatePicker = genericComponent<new <\n  T,\n  Multiple extends boolean | 'range' | number | (string & {}) = false,\n  TModel = Multiple extends true | number | string\n    ? T[]\n    : T,\n> (\n  props: {\n    modelValue?: TModel\n    'onUpdate:modelValue'?: (value: TModel) => void\n    multiple?: Multiple\n  },\n  slots: VDatePickerSlots\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VDatePicker',\n\n  props: makeVDatePickerProps(),\n\n  emits: {\n    'update:modelValue': (date: any) => true,\n    'update:month': (date: any) => true,\n    'update:year': (date: any) => true,\n    // 'update:inputMode': (date: any) => true,\n    'update:viewMode': (date: any) => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const adapter = useDate()\n    const { t } = useLocale()\n    const { rtlClasses } = useRtl()\n\n    const model = useProxiedModel(\n      props,\n      'modelValue',\n      undefined,\n      v => wrapInArray(v).map(i => adapter.date(i)),\n      v => props.multiple ? v : v[0],\n    )\n\n    const viewMode = useProxiedModel(props, 'viewMode')\n    // const inputMode = useProxiedModel(props, 'inputMode')\n\n    const minDate = computed(() => {\n      const date = adapter.date(props.min)\n\n      return props.min && adapter.isValid(date) ? date : null\n    })\n    const maxDate = computed(() => {\n      const date = adapter.date(props.max)\n\n      return props.max && adapter.isValid(date) ? date : null\n    })\n\n    const internal = computed(() => {\n      const today = adapter.date()\n      let value = today\n      if (model.value?.[0]) {\n        value = adapter.date(model.value[0])\n      } else if (minDate.value && adapter.isBefore(today, minDate.value)) {\n        value = minDate.value\n      } else if (maxDate.value && adapter.isAfter(today, maxDate.value)) {\n        value = maxDate.value\n      }\n\n      return value && adapter.isValid(value) ? value : today\n    })\n    const headerColor = toRef(() => props.headerColor ?? props.color)\n\n    const month = ref(Number(props.month ?? adapter.getMonth(adapter.startOfMonth(internal.value))))\n    const year = ref(Number(props.year ?? adapter.getYear(adapter.startOfYear(adapter.setMonth(internal.value, month.value)))))\n\n    const isReversing = shallowRef(false)\n    const header = computed(() => {\n      if (props.multiple && model.value.length > 1) {\n        return t('$vuetify.datePicker.itemsSelected', model.value.length)\n      }\n\n      return (model.value[0] && adapter.isValid(model.value[0]))\n        ? adapter.format(adapter.date(model.value[0]), 'normalDateWithWeekday')\n        : t(props.header)\n    })\n    const text = computed(() => {\n      let date = adapter.date()\n\n      date = adapter.setDate(date, 1)\n      date = adapter.setMonth(date, month.value)\n      date = adapter.setYear(date, year.value)\n\n      return adapter.format(date, 'monthAndYear')\n    })\n    // const headerIcon = toRef(() => props.inputMode === 'calendar' ? props.keyboardIcon : props.calendarIcon)\n    const headerTransition = toRef(() => `date-picker-header${isReversing.value ? '-reverse' : ''}-transition`)\n\n    const disabled = computed(() => {\n      if (props.disabled) return true\n\n      const targets = []\n\n      if (viewMode.value !== 'month') {\n        targets.push(...['prev', 'next'])\n      } else {\n        let _date = adapter.date()\n\n        _date = adapter.startOfMonth(_date)\n        _date = adapter.setMonth(_date, month.value)\n        _date = adapter.setYear(_date, year.value)\n\n        if (minDate.value) {\n          const date = adapter.addDays(adapter.startOfMonth(_date), -1)\n\n          adapter.isAfter(minDate.value, date) && targets.push('prev')\n        }\n\n        if (maxDate.value) {\n          const date = adapter.addDays(adapter.endOfMonth(_date), 1)\n\n          adapter.isAfter(date, maxDate.value) && targets.push('next')\n        }\n      }\n\n      return targets\n    })\n\n    function isAllowedInRange (start: unknown, end: unknown) {\n      const allowedDates = props.allowedDates\n      if (typeof allowedDates !== 'function') return true\n      const days = adapter.getDiff(end, start, 'days')\n      for (let i = 0; i < days; i++) {\n        if (allowedDates(adapter.addDays(start, i))) return true\n      }\n      return false\n    }\n\n    function allowedYears (year: number) {\n      if (typeof props.allowedDates === 'function') {\n        const startOfYear = adapter.parseISO(`${year}-01-01`)\n        return isAllowedInRange(startOfYear, adapter.endOfYear(startOfYear))\n      }\n\n      if (Array.isArray(props.allowedDates) && props.allowedDates.length) {\n        for (const date of props.allowedDates) {\n          if (adapter.getYear(adapter.date(date)) === year) return true\n        }\n        return false\n      }\n\n      return true\n    }\n\n    function allowedMonths (month: number) {\n      if (typeof props.allowedDates === 'function') {\n        const startOfMonth = adapter.parseISO(`${year.value}-${month + 1}-01`)\n        return isAllowedInRange(startOfMonth, adapter.endOfMonth(startOfMonth))\n      }\n\n      if (Array.isArray(props.allowedDates) && props.allowedDates.length) {\n        for (const date of props.allowedDates) {\n          if (\n            adapter.getYear(adapter.date(date)) === year.value &&\n            adapter.getMonth(adapter.date(date)) === month\n          ) return true\n        }\n        return false\n      }\n\n      return true\n    }\n\n    // function onClickAppend () {\n    //   inputMode.value = inputMode.value === 'calendar' ? 'keyboard' : 'calendar'\n    // }\n\n    function onClickNext () {\n      if (month.value < 11) {\n        month.value++\n      } else {\n        year.value++\n        month.value = 0\n        onUpdateYear(year.value)\n      }\n      onUpdateMonth(month.value)\n    }\n\n    function onClickPrev () {\n      if (month.value > 0) {\n        month.value--\n      } else {\n        year.value--\n        month.value = 11\n        onUpdateYear(year.value)\n      }\n      onUpdateMonth(month.value)\n    }\n\n    function onClickDate () {\n      viewMode.value = 'month'\n    }\n\n    function onClickMonth () {\n      viewMode.value = viewMode.value === 'months' ? 'month' : 'months'\n    }\n\n    function onClickYear () {\n      viewMode.value = viewMode.value === 'year' ? 'month' : 'year'\n    }\n\n    function onUpdateMonth (value: number) {\n      if (viewMode.value === 'months') onClickMonth()\n\n      emit('update:month', value)\n    }\n\n    function onUpdateYear (value: number) {\n      if (viewMode.value === 'year') onClickYear()\n\n      emit('update:year', value)\n    }\n\n    watch(model, (val, oldVal) => {\n      const arrBefore = wrapInArray(oldVal)\n      const arrAfter = wrapInArray(val)\n\n      if (!arrAfter.length) return\n\n      const before = adapter.date(arrBefore[arrBefore.length - 1])\n      const after = adapter.date(arrAfter[arrAfter.length - 1])\n      const newMonth = adapter.getMonth(after)\n      const newYear = adapter.getYear(after)\n\n      if (newMonth !== month.value) {\n        month.value = newMonth\n        onUpdateMonth(month.value)\n      }\n\n      if (newYear !== year.value) {\n        year.value = newYear\n        onUpdateYear(year.value)\n      }\n\n      isReversing.value = adapter.isBefore(before, after)\n    })\n\n    useRender(() => {\n      const pickerProps = VPicker.filterProps(props)\n      const datePickerControlsProps = VDatePickerControls.filterProps(props)\n      const datePickerHeaderProps = VDatePickerHeader.filterProps(props)\n      const datePickerMonthProps = VDatePickerMonth.filterProps(props)\n      const datePickerMonthsProps = omit(VDatePickerMonths.filterProps(props), ['modelValue'])\n      const datePickerYearsProps = omit(VDatePickerYears.filterProps(props), ['modelValue'])\n\n      const headerProps = {\n        color: headerColor.value,\n        header: header.value,\n        transition: headerTransition.value,\n      }\n\n      return (\n        <VPicker\n          { ...pickerProps }\n          color={ headerColor.value }\n          class={[\n            'v-date-picker',\n            `v-date-picker--${viewMode.value}`,\n            {\n              'v-date-picker--show-week': props.showWeek,\n            },\n            rtlClasses.value,\n            props.class,\n          ]}\n          style={ props.style }\n          v-slots={{\n            title: () => slots.title?.() ?? (\n              <div class=\"v-date-picker__title\">\n                { t(props.title) }\n              </div>\n            ),\n            header: () => slots.header ? (\n              <VDefaultsProvider\n                defaults={{\n                  VDatePickerHeader: { ...headerProps },\n                }}\n              >\n                { slots.header?.(headerProps) }\n              </VDefaultsProvider>\n            ) : (\n              <VDatePickerHeader\n                key=\"header\"\n                { ...datePickerHeaderProps }\n                { ...headerProps }\n                onClick={ viewMode.value !== 'month' ? onClickDate : undefined }\n                v-slots={{\n                  ...slots,\n                  default: undefined,\n                }}\n              />\n            ),\n            default: () => (\n              <>\n                <VDatePickerControls\n                  { ...datePickerControlsProps }\n                  disabled={ disabled.value }\n                  text={ text.value }\n                  onClick:next={ onClickNext }\n                  onClick:prev={ onClickPrev }\n                  onClick:month={ onClickMonth }\n                  onClick:year={ onClickYear }\n                />\n\n                <VFadeTransition hideOnLeave>\n                  { viewMode.value === 'months' ? (\n                    <VDatePickerMonths\n                      key=\"date-picker-months\"\n                      { ...datePickerMonthsProps }\n                      v-model={ month.value }\n                      min={ minDate.value }\n                      max={ maxDate.value }\n                      year={ year.value }\n                      allowedMonths={ allowedMonths }\n                      onUpdate:modelValue={ onUpdateMonth }\n                    />\n                  ) : viewMode.value === 'year' ? (\n                    <VDatePickerYears\n                      key=\"date-picker-years\"\n                      { ...datePickerYearsProps }\n                      v-model={ year.value }\n                      min={ minDate.value }\n                      max={ maxDate.value }\n                      allowedYears={ allowedYears }\n                      onUpdate:modelValue={ onUpdateYear }\n                    />\n                  ) : (\n                    <VDatePickerMonth\n                      key=\"date-picker-month\"\n                      { ...datePickerMonthProps }\n                      v-model={ model.value }\n                      v-model:month={ month.value }\n                      v-model:year={ year.value }\n                      onUpdate:month={ onUpdateMonth }\n                      onUpdate:year={ onUpdateYear }\n                      min={ minDate.value }\n                      max={ maxDate.value }\n                    />\n                  )}\n                </VFadeTransition>\n              </>\n            ),\n            actions: slots.actions,\n          }}\n        />\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VDatePicker = InstanceType<typeof VDatePicker>\n"],"mappings":"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","ignoreList":[]}